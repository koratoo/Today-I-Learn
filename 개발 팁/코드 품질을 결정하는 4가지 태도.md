# 코드 품질을 결정하는 4가지 태도

— 보이지 않는 디테일이 유지보수를 좌우한다

개발을 하다 보면 “동작은 되는데 찜찜한 코드”를 자주 만나게 된다.
그 차이는 대개 **문법이나 알고리즘이 아니라, 코드를 대하는 태도**에서 발생한다.

이번 글에서는 실무에서 특히 중요하다고 느낀 네 가지 기준을 정리한다.

---

## 1. 공백 라인에도 의미가 있다

코드는 **컴파일러보다 사람이 먼저 읽는다**.
공백 라인은 단순한 줄 바꿈이 아니라, **사고의 단락을 구분하는 도구**다.

### ❌ 공백이 없는 코드

```java
if (isValid) {
    save();
    send();
    log();
}
```

### ✅ 의미 단위로 나눈 코드

```java
if (isValid) {
    save();

    send();

    log();
}
```

### 왜 중요한가?

* 코드 흐름이 **자연스럽게 눈에 들어온다**
* 나중에 수정할 때 **어디까지가 한 책임인지** 명확해진다
* 리뷰 시 “여기 묶어도 되겠네” 같은 논의가 가능해진다

> 공백은 미관이 아니라 **가독성을 위한 구조화 도구**다.

---

## 2. 부정어를 대하는 자세 — `!`를 지향하라

부정 조건은 생각보다 **사고 비용이 크다**.
특히 조건이 중첩될수록 가독성은 급격히 나빠진다.

### ❌ 부정 조건이 쌓인 코드

```java
if (!user.isNotBlocked()) {
    return;
}
```

### ✅ 긍정 조건 중심의 코드

```java
if (user.isBlocked()) {
    return;
}
```

또는 Early Return을 적극 활용한다.

```java
if (!isValid) {
    return;
}

// 정상 흐름
process();
```

### 핵심 원칙

* 조건문은 **“참이면 무엇을 한다”**로 읽히는 게 가장 좋다
* `!`는 **피할 수 없을 때만 사용**
* 메서드 이름부터 긍정형으로 설계하는 것이 중요

> 좋은 조건문은 **한 번에 해석된다**.

---

## 3. 예외 가능성을 낮추는 코드

예외 처리는 중요하지만,
**더 중요한 것은 예외가 발생할 가능성 자체를 낮추는 것**이다.

### ❌ 예외에 의존하는 흐름

```java
try {
    User user = users.get(0);
    process(user);
} catch (Exception e) {
    // 대응
}
```

### ✅ 사전 조건으로 예외를 차단

```java
if (users.isEmpty()) {
    return;
}

User user = users.get(0);
process(user);
```

### 예외를 줄이는 방향

* `null` 가능성 제거
* 컬렉션 접근 전 size / isEmpty 체크
* 외부 API 응답에 대한 방어 코드
* 불변 객체 활용

> 예외는 **최후의 수단**이지, 로직의 일부가 아니다.

---

## 4. Null을 대하는 자세

### — Optional은 “모르면 쓰지 말아야 하는 도구”

`Optional`은 Null 문제를 해결하는 **은총 도구가 아니다**.
**의미를 정확히 알고 쓸 때만 가치가 있다.**

### ❌ Optional을 남용한 코드

```java
Optional<User> user = findUser();
if (user.isPresent()) {
    process(user.get());
}
```

이 코드는 사실상 `null` 체크와 다를 게 없다.

### ✅ 의도가 드러나는 사용

```java
findUser()
    .ifPresent(this::process);
```

또는

```java
User user = findUser()
    .orElseThrow(() -> new IllegalStateException("User not found"));
```

### Optional 사용 원칙

* **필드에는 사용하지 않는다**
* **반환 타입에서만 제한적으로 사용**
* `get()`은 거의 쓰지 않는다
* Optional은 **“없을 수도 있음”을 강제하는 계약**이다

> Optional은 null 회피가 아니라 **설계 의사 표현 수단**이다.

---

## 마무리

이 네 가지는 모두 사소해 보이지만,
**누적되면 코드 품질의 격차를 만든다.**

* 공백은 구조다
* 조건문은 긍정형이 읽기 쉽다
* 예외는 줄이는 것이 먼저다
* Optional은 의미를 알고 써야 한다

코드를 잘 짠다는 것은
**컴퓨터를 설득하는 것이 아니라, 미래의 나와 동료를 배려하는 일**이다.

---

인프런강의,gpt로 정리
